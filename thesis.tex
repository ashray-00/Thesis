\documentclass[a4paper,11pt,oneside]{article}

\usepackage[utf8]{inputenc}
\usepackage[a4paper,top=3cm,bottom=3cm,left=3cm,right=3cm]{geometry}
\renewcommand{\familydefault}{\sfdefault}
\usepackage{helvet}
\usepackage[english]{babel}     %% typographie française
\usepackage[style=numeric,language=english,backend=bibtex]{biblatex}
\usepackage{parskip}		%% blank lines between paragraphs, no indent
\usepackage[margin=1cm]{caption}%% give long captions a margin
\usepackage{booktabs}           %% typesetting nice tables
\usepackage[pdftex]{graphicx}	%% include graphics, preferrably pdf
\usepackage[pdftex]{hyperref}	%% many PDF options can be set here
\pdfadjustspacing=1		%% force LaTeX-like character spacing

\newcommand{\myname}{Ashray Adhikari}
\newcommand{\mytitle}{Underwater Image Enhancements}
\newcommand{\mysupervisor}{Prof. Andreas Birk}

\hypersetup{
  pdfauthor = {\myname},
  pdftitle = {\mytitle},
  pdfkeywords = {},
  colorlinks = {true},
  linkcolor = {blue}
}

\addbibresource{references.bib}

\begin{document}
  \pagenumbering{roman}

  \thispagestyle{empty}

  \begin{flushright}
    \includegraphics[scale=0.8]{bsc-logo}
  \end{flushright}
  \vspace*{40mm}
  \begin{center}
    \huge
    \textbf{\mytitle}
  \end{center}
  \vspace*{4mm}
  \begin{center}
   \Large by
  \end{center}
  \vspace*{4mm}
  \begin{center}
    \LARGE
    \textbf{\myname}
  \end{center}
  \vspace*{20mm}
  \begin{center}
    \Large
    Bachelor Thesis in Computer Science
  \end{center}
  \vfill
  \begin{flushleft}
    \large
    Submission: \today \hfill Supervisor: \mysupervisor \\
    \rule{\textwidth}{1pt}
  \end{flushleft}
  \begin{center}
    Jacobs University Bremen $|$ Department of Computer Science and Electrical Engineering
  \end{center}

  \newpage
  \thispagestyle{empty}

\subsection*{English: Declaration of Authorship}
 
  I hereby declare that the thesis submitted was created and written
  solely by myself without any external support. Any sources, direct
  or indirect, are marked as such. I am aware of the fact that the
  contents of the thesis in digital form may be revised with regard to
  usage of unauthorized aid as well as whether the whole or parts of
  it may be identified as plagiarism. I do agree my work to be entered
  into a database for it to be compared with existing sources, where
  it will remain in order to enable further comparisons with future
  theses. This does not grant any rights of reproduction and usage,
  however.

  This document was neither presented to any other examination board
  nor has it been published.

  \subsection*{German: Erklärung der Autorenschaft (Urheberschaft)}
 
  Ich erkläre hiermit, dass die vorliegende Arbeit ohne fremde Hilfe
  ausschließlich von mir erstellt und geschrieben worden ist. Jedwede
  verwendeten Quellen, direkter oder indirekter Art, sind als solche
  kenntlich gemacht worden. Mir ist die Tatsache bewusst, dass der
  Inhalt der Thesis in digitaler Form geprüft werden kann im Hinblick
  darauf, ob es sich ganz oder in Teilen um ein Plagiat handelt. Ich
  bin damit einverstanden, dass meine Arbeit in einer Datenbank
  eingegeben werden kann, um mit bereits bestehenden Quellen
  verglichen zu werden und dort auch verbleibt, um mit zukünftigen
  Arbeiten verglichen werden zu können. Dies berechtigt jedoch nicht
  zur Verwendung oder Vervielfältigung.

  Diese Arbeit wurde noch keiner anderen Prüfungsbehörde vorgelegt
  noch wurde sie bisher veröffentlicht.

  \vspace{20mm}

  Date, Signature

  \newpage
  \tableofcontents

  \clearpage
  \pagenumbering{arabic}

  \section{Introduction}

  %This, like the rest, addresses fellow experts from your field (but
  %not from your particular topic of research). Here you should
  %technically connect to the main concepts from that field and give an
  %outline of your project, stating the research/engineering question
  %that you want to get answered by your project.

  %(target size: 1-2 pages)
  
  Researchers today strive to capture high-quality underwater images for various Underwater activities \cite{15} but, Underwater imaging is a challenging field in computer vision research as opposed to land photography. Many physical and chemical characteristics of Underwater conditions raise issues that we can easily overcome in land photography \cite{15}.\\
  \\
  Underwater imaging raises new challenges and problems due to the absorption and scattering effects of light underwater. This generates low-contrast images and causes distant objects to appear blurry and misty \cite{3}. As light moves from air to water, it is partly reflected, and the amount of light entering reduces as we start going deeper. So, Underwater images appear dark as depth increases and the colors drop off one by one depending on the wavelength \cite{4}. Due to the varying degrees of attenuation encountered by the light traveling in water with different wavelengths, the ambient underwater environment is dominated by a bluish tone \cite{20}.\\
  The light received by the camera is mainly generated by a direct component that reflects light from the object, forward scattering that randomly deviates light on its way to the camera, and the backscattering component that reflects light toward the camera before the light reaches the objects \cite{21}. In an underwater scene light accepted through a camera can be represented as a linear superposition of all three components.  So, forward scattering causes the blurring on the image, and the backscattering masks the details of the scene \cite{21}.\\
  \\
  Besides the absorption and scattering effects of light by the water, the quality of water also influences the quality of underwater images. The presence of suspended particles with significant size and density in the medium also causes light to be scattered and absorbed \cite{8}. Haze is caused by the suspended particles such as sand, minerals, and plankton that exist in the water body. Some portion of the light meets these suspended particles as light reflected from the object propagates towards the camera \cite{13}.\\
  \\
  Due to certain challenging underwater conditions, traditional enhancing techniques appear to be strongly limited for Underwater Images. Traditional image restoration methods use an atmospheric scattering model to restore underwater images\cite{11} and underwater conditions are considered similar to dense fog on land, but unlike fog, underwater illumination is spectrally deprived as water attenuates different wavelengths of light to different degrees \cite{2}. Applying conventional color correction methods designed for terrestrial environments on Underwater images will lead to undesired artifacts since the red component of the Underwater image is much weaker than the green and blue components \cite{6}.\\
  \\
  In this document, we test the effects and analyze both quantitatively and qualitatively the result of different machine vision methods for Underwater Image Enhancement on images extracted from Underwater videos of the Valentine memorial. The rest of the document is structured as follows. Section \hyperref[sec:2]{2} gives an overview of Underwater Image Enhancement methods and discusses related works. Section \hyperref[sec:3]{3} goes in-depth on some Underwater Image Enhancement methods. Section \hyperref[sec:4]{4} showcases the results and analysis of the effects of different methods on the extracted images. Section \hyperref[sec:5]{5} provides the summary of the project and further discussions.  

 

  \section{Discussion of Related Work}
  \label{sec:2}

  %This part should make clear which question, exactly, you are
  %pursuing, and why your project is relevant/interesting. This is the
  %place to explain the background and to review the existing
  %literature. Where does your project extend the state of the art?
  %What weaknesses in known approaches do you hope to overcome? If you
  %have carried out preliminary experiments, describe them here.

  %(target size: 5-10 pages)
  Over the years several methods have been specifically designed according to the characteristics of underwater image eg, hazing, color casts and low contrast \cite{15}. In this section we will discuss different physics based, color correction, haze removal, fusion based and CNN-based Underwater Image Enhancements and Restoration methods.\\
  \\
  In a Physics-based approach for recovery of visibility in Underwater scenes raw images taken through different states of a polarizing filter. In 2004 Schechner \cite{19} proposed a physics based approach that inverts the image formation process, to recover a good visibility image of the object. The algorithm presented were based on images taken through a polarizer at different orientations. But, The physics based methods require high computing resources and long excution time and furthermore, the polarizer used in the approach is expensive \cite{8}. We will not consider the physics-based method for our analysis.\\
  \\
  In recent years many studies have proved the effectiveness of deep-learning methods for various computer vison tasks. But, very few of them have been effective in underwater image enhancement. In 2017, Perez \cite{22} proposed a CNN-based Underwater Image Enhancement method, that uses a convolution neural network to learn the transformation from raw acquired images to enhanced image using a pairs of degraded and recovered underwater images images \cite{15}. Then in 2018 Li \cite{23} proposed WaterGAN, a generative adversarial network for generating synthetic realistic underwater images from in-air image and depth maps, where the raw underwater, true color-in air and the depth data were used to feed a deep learning network for correcting color casts in underwater images \cite{15}. To relax the need for paired underwater images for network training and allow use of unknown underwater images Li \cite{7} proposed a Underwater Image Correction model based on a Weakly Supervised Color Transfer \cite{15}. In this method first, a color correction algorithm is applied to correct the color cast and produce a natural appearence of the sub-sea image and then a pair of dictionaries based on sparse representation are applied to sharpen the image and enhance the details \cite{7}. Even though Deep Learning based Underwater Enhancement method have in some extent proven to be effective in enhancing underwater images, we will not use the CNN-based model to enhance the extracted images from the Valentine mermorial due to the lack of data required to train the model.\\
  \\
  Most enhancement methids are scene dependent and need prior knowledge. Farhadifard \cite{14} in 2015 proposed an image enhancement method which combines learning-based de-blurring and adaptive color correction. First, the degraded image is white balanced using an adaptive gain factor to compensate color cast which produces a natural appearance of underwater medium. Then, the partially restored version is enhanced by a learning-based de-blurring algorithm \cite{14}. Two global dictionaries are trained based on sparse representation. One from a clear and high quality underwater image set and the second one, using corresponding blurred version. Blur free and sharpened image is obtained based on basic principle between the high and low patches \cite{14}.\\
  \\
  Classic Retinex theory assumes that the images can be decomposed into two components, reflectance and illumination. But, the classic Retinex model is not suited for low-light image enhancement-problem, as intensive noise exists in low-light images \cite{5}. In 2018 Li \cite{5} proposed an Structural Revealing Image Enhancement Algorithm Using a Robust Retinex Model. This method proposed a Robust Retinex, which aditionally considers a noise map compared to the conventional retinex model to improve the performance of enhancing low-light images accompanied by intense noise \cite{5}. Even though this method was not made for underwater conditions it can be generalized to handle Underwater Image Enhancements \cite{5}.\\
  In 2019 Gao \cite{6} proposed a Underwater Image Enhancemnt model inspired by the morphology and function of the teleost fish retina to solve the blurring and non-uniform color biasing problem of underwater images. The motivation behind this approach, is that the visual system of the oceanic creatures have evolved to adapt to the natural statistics of aquatic scenes \cite{6}. So, modeling the perception and imaging mechanisms of the oceanic creatures will give us new insights to processing Underwater images \cite{6}.\\
  \\
  Wavelet decomposition algorithm decompose the original image into a sequence of new images of decreasing size \cite{24}. In 2016 A. Khan \cite{9} proposed a wavelet based fusion method to enhance hazy underwater images by addressing low contrast and color attenuation issues. Two input images are generated from the hazy image by color correction using histogram stretching and contrast enhancement using contrast limited adaptive histogram equalization (CLAHE). Both input images are decomposed into wavelet coefficient and the coefficient are fused using algorithm that eliminates unwanted low and high frequency present in the image. Finally, the inverse composition is applied to the fused coefficient to get a synthesised enhanced image. \cite{9}\\
  In 2017 Wang \cite{12} proposed a different fusion based model applied to frequency domain. It involves 2 inputs represented as a color corrected and contrast enhanced images extracted from the original image. The input images are decomposed into low frequency and high frequency compoenents using a three-scale wavelet operator. Then, Muti-scale fusion principles are applied to the low and high frequency components. Fusion principle for of Low frequency component involves weighted average of the components and of high frequency component involves local variance of components. The fused image is obtained by recontructing the new fused low frequency and high frequency components \cite{12}.\\
  \\
  Dark Chnnel Prior method is based on the observation that in a clear day image there exits some pixels which has a very low intensities in at least one color channel \cite{15}. Due to the similarity between hazed outdoor image and underwater image Dark Channel based hazing method is used in underwater image enhancement. Chao and Wang in 2010 \cite{25} used the Dark Channel Prior method directly to enhance clarity of the image. Using dark channel prior depth of the Underwater Image is estimated but this method does not solve the problem of absoption\cite{25}.\\
  In 2011 Yang \cite{8} proposed a DCP-based fast Underwater Image Enhancement method that can effectively enhance Underwater Image and reduce execution time. This method used median filter instead of soft matting procedure to estimate the depth map of the image. The Dark Channel Prior is calculated to estimate airlight, and the depth map is generated using median filter. A color correction method is employed to enhance the color contrast of the image.\\
  \\
  As, larger scene depth causes more object bluriness Underwater images, Y. Peng in 2015 \cite{3} proposed a method that measures scene depth from image bluriness to estimate depth map for Underwater Image enhancement. The method is based on observation that objects farther from the camera are more blurry for Underwater Images. To overcome the limitation of DCP the depth estimation method first calculates the difference between the original and the multi-scale Gaussian filter to estimate the pixel bluriness map. Then, by assuming that the depth in the small local patch is uniform the max filter is applied to the pixel blurriness map. Finally, closing by morphological reconstruction (CMR) and the guided filter are used to refine the depth map \cite{3}.\\
  \\
  Transmission map is reducing exponentially with scene depth, which is difficult to estimate in Underwater Environment. So, Mi in 2018 \cite{11} proposed a enhancement method using multi-scale gradient domain contrast enhancement strategy to increase visibility and compensate the attenuation of color saturation according to the estimated transmission. Before applying the enhancement method first white balance the image to remove the color casts while producing natural appearance of the Underwater image \cite{11}. Then, multi-scale gradient enhancement strategy is used to prevent halo artifacts. Gradient enhancement are processed on multiple residual images produced by edge-decomposition \cite{11}. By compensating color saturation according to the estimated transmission we get the enhanced image \cite{11}.\\   
  \\
  Several other methods have been proposed to remove the haze and increase the contrast of Underwater images. Ancutti in 2018 \cite{16} proposed a method that uses color balance and fusion methods to enhance Underwater Images. White Balanced version of the original image is decomposed into 2 input images to enhance the color contrast and edge sharpness. Then, the weight maps are defined to preserve the qualities and reject the defaults of the inputs \cite{16}. Finally, multi-scale fusion method decomposes the image into a sum of bandpass images. The method is motivated by human visual system, which is very sensitive to sharp transition appearing in smooth image \cite{16}.\\
  \\
  Since, most Underwater dehazing method are for still underwater images, Emberton \cite{2} in 2018 proposed a dehazing method that improves visibility in images and videos by detecting and segmenting image regions that contain only water. The spectral distortion problem is addressed in the method by automatically selecting the most appropriate white balancing method based on the most dominant color of the water \cite{2}. Varying patch sizes is used for the estimation of light that is scattered from underwater particles into the line of sight of the camera \cite{2}. Entropy-based segmentation is used to localize pure haze region that informs the features to select for the scattered light \cite{2}. Image specific transmission value is allocated to pure haze regions to avoid generating artefacts \cite{2}.\\
  \\
  Presence of artifical light source in Underwater Image increases scattering of light underwater. So, Chiang in 2012 \cite{13} proposed a method to enhance underwater images by dehazing algorithm to compensate the attenuation disperency along the propagation path, and to take the influence of the possible presence of artifical light source into consideration. Dark channel prior, is first used to estimate the distances of scene objects to the camera. Based on the depth map, the foreground and background areas within the image are segmented. Light intensity of the foreground and background are compared to determine whether artificial is used. Dehazing algorithm and wavelength compensation are used to remove the haze effect and color change along the Underwater propagation path to the camera \cite{13}.\\
  \\
  
  
  \section{Description of the Investigation}
  \label{sec:3}
  This is the technical core of the thesis. Here you lay out your how
  you answered your research question, you specify your design of
  experiments or simulations, point out difficulties that you
  encountered, etc.

  (target size: 5-10 pages)
  
  \section{Evaluation of the Investigation}
  \label{sec:4}

  This section discusses criteria that are used to evaluate the
  research results. Make sure your results can be used to published
  research results, i.e., to the already known state-of-the-art.

  (target size: 5-10 pages)


\section{Conclusions}
\label{sec:5}

  Summarize the main aspects and results of the research
  project. Provide an answer to the research questions stated earlier.

  (target size: 1/2 page)
  
  \newpage
  
  %\bibliographystyle{unsrt} 
  %\bibliography{bsc-sample}
  \printbibliography
  
\end{document}
